# 第4章 モジュール化によるコードの再利用

モジュール性はプログラムをより小さい独立したものに分離出来る程度を表している。

モジュール化されたプログラムは構成要素の意味からプログラム全体の意味が分かる。

本章のサンプルコードは `Ramda` を使って実装する。

## メソッドチェーンと関数パイプライン

第3章でメソッドチェーンについて触れたが、関数型の世界には関数パイプラインと呼ばれる仕組みが存在する。

例えば `isEmpty` のような真偽値を返す関数は下記のように表す事が出来る。

`[関数名] :: [0個以上の入力型] -> [アウトプット]`

`isEmpty :: String -> Boolean`

メソッドチェーンはあくまでもメソッドをつなげているだけなので、限られた表現しか出来ない。

しかし関数パイプラインはメソッドチェーンよりも緩い結合なのでより柔軟性がある。

## タプル(tuple)

関数型言語はタプルと呼ばれる構造に対応している。

タプルは、有限かつ順番に並べられたリスト要素であり、通常は一度に2〜3個の値をまとめたもので、(a,b,c)などど記述される。

タプルを使わない場合、一時的なデータをオブジェクトや配列として返すのが良く使われるかと思う。

↓こんな感じだ。

```typescript
return {
  status: false,
  message: "Input is not long!"
};

// もしくは
return [false, "Input is not long!"];
```

関数間でデータを転送する必要がある場合、次の理由からタプルのほうが有利。

- タプルは不変性。一度作成されると、タプルの内部データは変更不可
- 一時的な型はモデルが必要以上に複雑になる

ただし残念ながらJavaScriptには言語レベルでタプル型を宣言する事は出来ない。

TypeScriptにはタプル型が存在するがあくまでも配列なので、注意して利用する必要がある。

（参考）[TypeScriptの型入門 タプル型](https://qiita.com/uhyo/items/e2fdef2d3236b9bfe74a#%E3%82%BF%E3%83%97%E3%83%AB%E5%9E%8B)
